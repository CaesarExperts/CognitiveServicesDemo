<h1>Persons & Groups</h1>

<h2>Groups</h2>
<table class='table' *ngIf="groups">
    <thead>
        <tr>
            <th>PersonGroupId</th>
            <th>Name</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let group of groups">
            <td>{{ group.personGroupId }}</td>
            <td>{{ group.name }}</td>
            <td><button (click)="findPersons(group.personGroupId)">Find users</button></td>
        </tr>
    </tbody>
</table>

<div *ngIf="persons">
    <h2>Persons</h2>
    <table class='table'>
        <thead>
            <tr>
                <th>PersonId</th>
                <th>Faces</th>
                <th>Name</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let person of persons">
                <td>{{ person.personId }}</td>
                <td>{{ person.persistedFaceIds.join(',') }}</td>
                <td>{{ person.name }}</td>
            </tr>
        </tbody>
    </table>

    <h2>Verify</h2>
    <form (ngSubmit)="onSubmit()">
        <div class="form-group">
            <label for="personId">PersonGroupId</label>
            <input type="text" [(ngModel)]="personGroupId" name="personGroupId" placeholder="PersonGroupId" class="form-control" />
        </div>
        <div class="form-group">
            <label for="personId">PersonId</label>
            <input type="text" [(ngModel)]="personId" name="personId" placeholder="PersonId"  class="form-control" />
        </div>
        <div class="form-group">
            <label for="image">Image url</label>
            <input type="text" [(ngModel)]="imageUrl" name="imageUrl" placeholder="Your image url" value="Upload" class="form-control" />
        </div>
        <div>
            <input type="submit" value="Verify" />
        </div>
    </form>

    <div *ngIf="verifyResult">
        <h3>Match: {{ verifyResult.isIdentical }} - {{verifyResult.confidence}}</h3>
    </div>
</div>
